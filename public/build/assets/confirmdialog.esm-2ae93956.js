import{r as i,P as te,l as X,c as y,D as re,O as H,I as ne}from"./app-5820f2fc.js";import{B as k}from"./button.esm-a7803143.js";import{C as ae,u as oe,a as ce,c as ie,g as le}from"./iconbase.esm-a7b8798a.js";import{D as se}from"./dialog.esm-ed12077b.js";import{O as h}from"./overlayservice.esm-8c1f21ea.js";import{P as ue}from"./tooltip.esm-de61fec8.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function fe(e){if(Array.isArray(e))return e}function me(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,g,v,u=[],p=!0,w=!1;try{if(g=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(n=g.call(r)).done)&&(u.push(n.value),u.length!==t);p=!0);}catch(E){w=!0,o=E}finally{try{if(!p&&r.return!=null&&(v=r.return(),Object(v)!==v))return}finally{if(w)throw o}}return u}}function W(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e,t){if(e){if(typeof e=="string")return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}function ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y(e,t){return fe(e)||me(e,t)||pe(e,t)||ge()}function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}function ve(e,t){if(C(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function be(e){var t=ve(e,"string");return C(t)==="symbol"?t:String(t)}function de(e,t,r){return t=be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye={root:"p-confirm-dialog",message:"p-confirm-dialog-message",icon:"p-confirm-dialog-icon",acceptButton:"p-confirm-dialog-accept",rejectButton:function(t){var r=t.getPropValue;return y("p-confirm-dialog-reject",{"p-button-text":!r("rejectClassName")})}},x=ae.extend({defaultProps:{__TYPE:"ConfirmDialog",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,breakpoints:null,children:void 0,className:null,content:null,defaultFocus:"accept",footer:null,icon:null,message:null,onHide:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,tagKey:void 0,visible:void 0},css:{classes:ye}});function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(n){de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t=j(j({},t),{visible:t.visible===void 0?!0:t.visible}),t.visible&&h.emit("confirm-dialog",t);var r=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h.emit("confirm-dialog",j(j(j({},t),g),{visible:!0}))},n=function(){h.emit("confirm-dialog",{visible:!1})};return{show:r,hide:n}},je=i.memo(i.forwardRef(function(e,t){var r=oe(),n=i.useContext(te),o=x.getProps(e,n),g=i.useState(o.visible),v=Y(g,2),u=v[0],p=v[1],w=i.useState(!1),E=Y(w,2),V=E[0],z=E[1],P=i.useRef(null),O=i.useRef(!1),I=i.useRef(null),N=function(){var a=o.group;return P.current&&(a=P.current.group),Object.assign({},o,P.current,{group:a})},c=function(a){return N()[a]},T=function(a){for(var s=arguments.length,f=new Array(s>1?s-1:0),m=1;m<s;m++)f[m-1]=arguments[m];return H.getPropValue(c(a),f)},M=c("acceptLabel")||X("accept"),$=c("rejectLabel")||X("reject"),_={props:o,state:{visible:u}},A=x.setMetaData(_),b=A.ptm,S=A.cx,G=A.isUnstyled;ce(x.css.styles,G,{name:"confirmdialog"});var K=function(){O.current||(O.current=!0,T("accept"),d("accept"))},J=function(){O.current||(O.current=!0,T("reject"),d("reject"))},R=function(){var a=N();a.group===o.group&&(p(!0),O.current=!1,I.current=document.activeElement)},d=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";u&&(p(!1),T("onHide",{result:a}),re.focus(I.current),I.current=null)},D=function(a){if(a.tagKey===o.tagKey){var s=u!==a.visible,f=c("target")!==a.target;f&&!o.target?(d(),P.current=a,z(!0)):s&&(P.current=a,a.visible?R():d())}};i.useEffect(function(){o.visible?R():d()},[o.visible]),i.useEffect(function(){return!o.target&&!o.message&&h.on("confirm-dialog",D),function(){h.off("confirm-dialog",D)}},[o.target]),ie(function(){V&&R()},[V]),le(function(){h.off("confirm-dialog",D)}),i.useImperativeHandle(t,function(){return{props:o,confirm:D}});var Q=function(){var a=c("defaultFocus"),s=y("p-confirm-dialog-accept",c("acceptClassName")),f=y("p-confirm-dialog-reject",{"p-button-text":!c("rejectClassName")},c("rejectClassName")),m=r({label:$,autoFocus:a==="reject",icon:c("rejectIcon"),className:y(c("rejectClassName"),S("rejectButton",{getPropValue:c})),onClick:J,pt:b("rejectButton"),unstyled:o.unstyled,__parentMetadata:{parent:_}},b("rejectButton")),F=r({label:M,autoFocus:a===void 0||a==="accept",icon:c("acceptIcon"),className:y(c("acceptClassName"),S("acceptButton")),onClick:K,pt:b("acceptButton"),unstyled:o.unstyled,__parentMetadata:{parent:_}},b("acceptButton")),B=i.createElement(i.Fragment,null,i.createElement(k,m),i.createElement(k,F));if(c("footer")){var L={accept:K,reject:J,acceptClassName:s,rejectClassName:f,acceptLabel:M,rejectLabel:$,element:B,props:N()};return H.getJSXElement(c("footer"),L)}return B},Z=function(){var a=N(),s=H.getJSXElement(c("message"),a),f=r({className:S("icon")},b("icon")),m=ne.getJSXIcon(c("icon"),j({},f),{props:a}),F=Q(),B=r({className:S("message")},b("message")),L=r({visible:u,className:y(c("className"),S("root")),footer:F,onHide:d,breakpoints:c("breakpoints"),pt:a.pt,unstyled:o.unstyled,appendTo:c("appendTo"),__parentMetadata:{parent:_}},x.getOtherProps(a));return i.createElement(se,U({},L,{content:e==null?void 0:e.content}),m,i.createElement("span",B,s))},ee=Z();return i.createElement(ue,{element:ee,appendTo:c("appendTo")})}));je.displayName="ConfirmDialog";export{je as C,Ee as c};
//# sourceMappingURL=confirmdialog.esm-2ae93956.js.map
