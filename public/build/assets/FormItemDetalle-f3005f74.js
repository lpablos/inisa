import{r as s,P as Ke,O as z,c as ge,D as te,a as he,j as n}from"./app-fec1f9ef.js";import{I as K}from"./inputnumber.esm-788907ab.js";import{C as He,u as Ve,a as We,j as Te}from"./ripple.esm-aa678d2b.js";import{K as Me,I as ke}from"./inputtext.esm-406ddf7e.js";import{T as Je}from"./tooltip.esm-6b27fd4f.js";import{D as Oe}from"./divider.esm-2dc8802b.js";import{D as Ie}from"./dropdown.esm-75bb9a6d.js";import{B as Ae}from"./button.esm-51328d7b.js";import{T as Qe}from"./toast.esm-75b1e22d.js";import{P as Ze}from"./progressspinner.esm-52c670a3.js";import{E as et}from"./editor.esm-ef975e67.js";import{B as $e}from"./badge.esm-a22270eb.js";import"./index.esm-212e446d.js";import"./overlayservice.esm-50b87a58.js";import"./index.esm-e4f82beb.js";import"./index.esm-da5aa072.js";function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Fe.apply(this,arguments)}function be(t){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(t)}function tt(t,e){if(be(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var c=r.call(t,e||"default");if(be(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t){var e=tt(t,"string");return be(e)==="symbol"?e:String(e)}function at(t,e,r){return e=nt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rt={root:function(e){var r=e.props,c=e.context,i=e.isFilled;return ge("p-inputtextarea p-inputtext p-component",{"p-disabled":r.disabled,"p-filled":i,"p-inputtextarea-resizable":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":c&&c.inputStyle==="filled"})}},ot=`
@layer primereact {
    .p-inputtextarea-resizable {
        overflow: hidden;
        resize: none;
    }
    
    .p-fluid .p-inputtextarea {
        width: 100%;
    }
}
`,_e=He.extend({defaultProps:{__TYPE:"InputTextarea",__parentMetadata:null,autoResize:!1,invalid:!1,variant:null,keyfilter:null,onBlur:null,onFocus:null,onBeforeInput:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0,className:null},css:{classes:rt,styles:ot}});function Ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,c)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ue(Object(r),!0).forEach(function(c){at(t,c,r[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(r,c))})}return t}var Ye=s.memo(s.forwardRef(function(t,e){var r=Ve(),c=s.useContext(Ke),i=_e.getProps(t,c),m=s.useRef(e),D=s.useRef(0),a=_e.setMetaData(Be(Be({props:i},i.__parentMetadata),{},{context:{disabled:i.disabled}})),w=a.ptm,x=a.cx,I=a.isUnstyled;We(_e.css.styles,I,{name:"inputtextarea"});var P=function(f){i.autoResize&&b(),i.onFocus&&i.onFocus(f)},G=function(f){i.autoResize&&b(),i.onBlur&&i.onBlur(f)},H=function(f){i.autoResize&&b(),i.onKeyUp&&i.onKeyUp(f)},V=function(f){i.onKeyDown&&i.onKeyDown(f),i.keyfilter&&Me.onKeyPress(f,i.keyfilter,i.validateOnly)},k=function(f){i.onBeforeInput&&i.onBeforeInput(f),i.keyfilter&&Me.onBeforeInput(f,i.keyfilter,i.validateOnly)},F=function(f){i.onPaste&&i.onPaste(f),i.keyfilter&&Me.onPaste(f,i.keyfilter,i.validateOnly)},j=function(f){var h=f.target;i.autoResize&&b(z.isEmpty(h.value)),i.onInput&&i.onInput(f),z.isNotEmpty(h.value)?te.addClass(h,"p-filled"):te.removeClass(h,"p-filled")},b=function(f){var h=m.current;h&&W()&&(D.current||(D.current=h.scrollHeight,h.style.overflow="hidden"),(D.current!==h.scrollHeight||f)&&(h.style.height="",h.style.height=h.scrollHeight+"px",parseFloat(h.style.height)>=parseFloat(h.style.maxHeight)?(h.style.overflowY="scroll",h.style.height=h.style.maxHeight):h.style.overflow="hidden",D.current=h.scrollHeight))},W=function(){if(te.isVisible(m.current)){var f=m.current.getBoundingClientRect();return f.width>0&&f.height>0}return!1};s.useEffect(function(){z.combinedRefs(m,e)},[m,e]),s.useEffect(function(){i.autoResize&&b(!0)},[i.autoResize]);var ne=s.useMemo(function(){return z.isNotEmpty(i.value)||z.isNotEmpty(i.defaultValue)},[i.value,i.defaultValue]),J=z.isNotEmpty(i.tooltip),E=r({ref:m,className:ge(i.className,x("root",{context:c,isFilled:ne})),onFocus:P,onBlur:G,onKeyUp:H,onKeyDown:V,onBeforeInput:k,onInput:j,onPaste:F},_e.getOtherProps(i),w("root"));return s.createElement(s.Fragment,null,s.createElement("textarea",E),J&&s.createElement(Je,Fe({target:m,content:i.tooltip,pt:w("tooltip")},i.tooltipOptions)))}));Ye.displayName="InputTextarea";function Re(){return Re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Re.apply(this,arguments)}function ye(t){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(t)}function st(t,e){if(ye(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var c=r.call(t,e||"default");if(ye(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lt(t){var e=st(t,"string");return ye(e)==="symbol"?e:String(e)}function it(t,e,r){return e=lt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ze(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,c=new Array(e);r<e;r++)c[r]=t[r];return c}function ct(t){if(Array.isArray(t))return ze(t)}function ut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xe(t,e){if(t){if(typeof t=="string")return ze(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(t,e)}}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(t){return ct(t)||ut(t)||Xe(t)||dt()}function ft(t){if(Array.isArray(t))return t}function mt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var c,i,m,D,a=[],w=!0,x=!1;try{if(m=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;w=!1}else for(;!(w=(c=m.call(r)).done)&&(a.push(c.value),a.length!==e);w=!0);}catch(I){x=!0,i=I}finally{try{if(!w&&r.return!=null&&(D=r.return(),Object(D)!==D))return}finally{if(x)throw i}}return a}}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pe(t,e){return ft(t)||mt(t,e)||Xe(t,e)||ht()}var vt={handle:function(e){var r=e.index,c=e.handleIndex;return ge("p-slider-handle",{"p-slider-handle-start":r===0,"p-slider-handle-end":r===1,"p-slider-handle-active":c.current===r})},range:"p-slider-range",root:function(e){var r=e.props,c=e.vertical,i=e.horizontal;return ge("p-slider p-component",{"p-disabled":r.disabled,"p-slider-horizontal":i,"p-slider-vertical":c})}},gt=`
@layer primereact {
    .p-slider {
        position: relative;
    }
    
    .p-slider .p-slider-handle {
        position: absolute;
        cursor: grab;
        touch-action: none;
        display: block;
        z-index: 1;
    }
    
    .p-slider .p-slider-handle.p-slider-handle-active {
        z-index: 2;
    }
    
    .p-slider-range {
        position: absolute;
        display: block;
    }
    
    .p-slider-horizontal .p-slider-range {
        top: 0;
        left: 0;
        height: 100%;
    }
    
    .p-slider-horizontal .p-slider-handle {
        top: 50%;
    }
    
    .p-slider-vertical {
        height: 100px;
    }
    
    .p-slider-vertical .p-slider-handle {
        left: 50%;
    }
    
    .p-slider-vertical .p-slider-range {
        bottom: 0;
        left: 0;
        width: 100%;
    }
}
`,bt={handle:{position:"absolute"},range:{position:"absolute"}},ve=He.extend({defaultProps:{__TYPE:"Slider",id:null,value:null,min:0,max:100,orientation:"horizontal",step:null,range:!1,style:null,className:null,disabled:!1,tabIndex:0,onChange:null,onSlideEnd:null,children:void 0},css:{classes:vt,styles:gt,inlineStyles:bt}});function Le(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,c)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(r),!0).forEach(function(c){it(t,c,r[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach(function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(r,c))})}return t}var qe=s.memo(s.forwardRef(function(t,e){var r,c,i,m=Ve(),D=s.useContext(Ke),a=ve.getProps(t,D),w=s.useRef(null),x=s.useRef(0),I=s.useRef(!1),P=s.useRef(!1),G=s.useRef(0),H=s.useRef(0),V=s.useRef(0),k=s.useRef(0),F=s.useRef(),j=a.range?(r=a.value)!==null&&r!==void 0?r:[a.min,a.max]:(c=(i=a.value)!==null&&i!==void 0?i:a.min)!==null&&c!==void 0?c:0,b=a.orientation==="horizontal",W=a.orientation==="vertical",ne=Te({type:"mousemove",listener:function(o){return Z(o)}}),J=Pe(ne,2),E=J[0],T=J[1],f=Te({type:"mouseup",listener:function(o){return ee(o)}}),h=Pe(f,2),ae=h[0],xe=h[1],re=Te({type:"touchmove",listener:function(o){return Z(o)}}),je=Pe(re,2),Ee=je[0],Ce=je[1],oe=Te({type:"touchend",listener:function(o){return ee(o)}}),se=Pe(oe,2),le=se[0],Se=se[1],O=ve.setMetaData({props:a}),Y=O.ptm,N=O.cx,Q=O.sx,A=O.isUnstyled;We(ve.css.styles,A,{name:"slider"});var C=function(o,u){var d=a.range?j[x.current]:j,y=(a.step||1)*u;L(o,d+y),o.preventDefault()},$=function(o,u){a.disabled||(P.current=!0,de(),I.current=!0,a.range&&j[0]===a.max?x.current=0:x.current=u,o.preventDefault())},Z=function(o){P.current&&(B(o),o.preventDefault())},ee=function(o){if(P.current){P.current=!1;var u=B(o);a.onSlideEnd&&a.onSlideEnd({originalEvent:o,value:u}),F.current=void 0,T(),xe(),Ce(),Se()}},ie=function(o,u){E(),ae(),$(o,u)},ce=function(o,u){o.changedTouches&&o.changedTouches[0]&&(F.current=o.changedTouches[0].identifier),Ee(),le(),$(o,u)},ue=function(o,u){if(!a.disabled){x.current=u;var d=o.key;switch(d){case"ArrowRight":case"ArrowUp":C(o,1);break;case"ArrowLeft":case"ArrowDown":C(o,-1);break;case"PageUp":C(o,10),o.preventDefault();break;case"PageDown":C(o,-10),o.preventDefault();break;case"Home":C(o,-j),o.preventDefault();break;case"End":C(o,a.max),o.preventDefault();break}}},X=function(o){if(!a.disabled){if(!I.current){de();var u=B(o);a.onSlideEnd&&a.onSlideEnd({originalEvent:o,value:u})}I.current=!1}},de=function(){var o=w.current.getBoundingClientRect();G.current=o.left+te.getWindowScrollLeft(),H.current=o.top+te.getWindowScrollTop(),V.current=w.current.offsetWidth,k.current=w.current.offsetHeight},U=function(o){var u,d=Array.from((u=o.changedTouches)!==null&&u!==void 0?u:[]).find(function(y){return y.identifier===F.current})||o;return{pageX:d.pageX,pageY:d.pageY}},B=function(o){var u,d=U(o),y=d.pageX,R=d.pageY;if(!(!y||!R)){b?u=(y-G.current)*100/V.current:u=(H.current+k.current-R)*100/k.current;var l=(a.max-a.min)*(u/100)+a.min;if(a.step){var p=a.range?j[x.current]:j,S=l-p;S<0?l=p+Math.ceil(l/a.step-p/a.step)*a.step:S>0&&(l=p+Math.floor(l/a.step-p/a.step)*a.step)}else l=Math.floor(l);return L(o,l)}},L=function(o,u){var d=parseFloat(u.toFixed(10)),y=d;return a.range?(x.current===0?d<a.min?d=a.min:d>a.max&&(d=a.max):d>a.max?d=a.max:d<a.min&&(d=a.min),y=pt(j),y[x.current]=d,a.onChange&&a.onChange({originalEvent:o,value:y})):(d<a.min?d=a.min:d>a.max&&(d=a.max),y=d,a.onChange&&a.onChange({originalEvent:o,value:y})),y},M=function(o,u,d){o=z.isEmpty(o)?null:o,u=z.isEmpty(u)?null:u;var y={transition:P.current?"none":null,left:o!=null?o+"%":null,bottom:u!=null?u+"%":null},R=m(q({className:N("handle",{index:d,handleIndex:x}),style:q(q({},Q("handle",{dragging:P,leftValue:o,bottomValue:u})),y),tabIndex:a.tabIndex,role:"slider",onMouseDown:function(p){return ie(p,d)},onTouchStart:function(p){return ce(p,d)},onKeyDown:function(p){return ue(p,d)},"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":o||u||0,"aria-orientation":a.orientation},we),Y("handle"));return s.createElement("span",R)},pe=function(){var o=(j[0]<a.min?a.min:j[0]-a.min)*100/(a.max-a.min),u=(j[1]>a.max?a.max:j[1]-a.min)*100/(a.max-a.min),d=b?M(o,null,0):M(null,o,0),y=b?M(u,null,1):M(null,u,1),R=u>o?u-o:o-u,l=u>o?o:u,p=b?{left:l+"%",width:R+"%"}:{bottom:l+"%",height:R+"%"},S=m({className:N("range"),style:q(q({},Q("range")),p)},Y("range"));return s.createElement(s.Fragment,null,s.createElement("span",S),d,y)},fe=function(){var o;j<a.min?o=a.min:j>a.max?o=a.max:o=(j-a.min)*100/(a.max-a.min);var u=b?{width:o+"%"}:{height:o+"%"},d=b?M(o,null,null):M(null,o,null),y=m({className:N("range"),style:q(q({},Q("range")),u)},Y("range"));return s.createElement(s.Fragment,null,s.createElement("span",y),d)};s.useImperativeHandle(e,function(){return{props:a,getElement:function(){return w.current}}});var me=ve.getOtherProps(a),we=z.reduceKeys(me,te.ARIA_PROPS),Ne=a.range?pe():fe(),De=m({style:a.style,className:ge(a.className,N("root",{vertical:W,horizontal:b})),onClick:X},ve.getOtherProps(a),Y("root"));return s.createElement("div",Re({id:a.id,ref:w},De),Ne)}));qe.displayName="Slider";const Rt=({cotizacion:t,detalle:e=null,modalVisible:r,recargarListado:c,detalleItem:i})=>{const[m,D]=s.useState(0),a=s.useRef(null),[w,x]=s.useState(!1),[I,P]=s.useState(!1),[G,H]=s.useState("Registrar"),[V,k]=s.useState(null),[F,j]=s.useState(null),[b,W]=s.useState("todo");s.useEffect(()=>{t&&j(t)},[t]),s.useEffect(()=>{(async()=>{try{e==null?(W("todo"),await De()):e.es_tomo===1?(W("tomo"),await v(e.id),k(e.id),H("Actualizar")):e.es_tomo===0&&(W("detalle"),await De(),await v(e.id),k(e.id),H("Actualizar"))}catch(p){console.error("Error en fetchData:",p)}})()},[e]);const[ne,J]=s.useState([]),[E,T]=s.useState(0);s.useEffect(()=>{E==2&&Ne()},[E]);const[f,h]=s.useState([{name:"Ninguno",value:0},{name:"Captura Tomo",value:1},{name:"Listar Tomos",value:2}]),[ae,xe]=s.useState(""),[re,je]=s.useState(null),[Ee,Ce]=s.useState([]),[oe,se]=s.useState(""),[le,Se]=s.useState(null),[O,Y]=s.useState(null),[N,Q]=s.useState(null),[A,C]=s.useState(null),[$,Z]=s.useState(0);s.useEffect(()=>{C(N)},[N]),s.useEffect(()=>{const l=O*A;Z(l)},[O,A]);const[ee,ie]=s.useState(null),[ce,ue]=s.useState(null);s.useEffect(()=>{const l=Math.round(A*(1+m/100));ie(parseFloat(l));const p=Math.round(U*(1+m/100));ue(parseFloat(p))},[m]),s.useEffect(()=>{ie(null),ue(null)},[]);const[X,de]=s.useState(null),[U,B]=s.useState(null),[L,M]=s.useState(0);s.useEffect(()=>{B(X)},[X]),s.useEffect(()=>{const l=O*U;M(l)},[O,U]);const[pe,fe]=s.useState(0);s.useEffect(()=>{const l=$+L;fe(l)},[$,L]);const[me,we]=s.useState(null),Ne=async()=>{await he.get(`${route("cotizacion.list.tomos",{identy:F})}`).then(l=>{const{data:p,status:S}=l;if(S==200){const g=p.map(_=>({id:_.id,name:_.PDA+" - "+_.descripcion}));Ce(g)}})},De=async()=>{await he.get(`${route("catalogo.list.unidadesmedidas")}`).then(l=>{const{data:p,status:S}=l;if(S==200){const g=p.map(_=>({value:_.id,name:_.nombre+" - "+_.abreviatura}));J(g)}})},v=async l=>{const p=l;await he.get(`${route("cotizacion.captura.item.detalle",{id:p})}`).then(S=>{const{data:g,status:_}=S;_==200&&(g.es_tomo==1?(T(1),xe(g.descripcion),setTimeout(()=>{P(!0)},600)):(P(!1),se(g.descripcion),Y(g.costo_material_cantidad),Q(g.costo_material_unitario_sugerido),de(g.costo_mano_obra_unitario_sugerido),we(g.comentarios_extras),setTimeout(()=>{Se(g.cat_unidad_medida_id),C(g.costo_material_unitario),B(g.costo_mano_obra_unitario)},600),setTimeout(()=>{Z(g.costo_material_subtotal),M(g.costo_mano_obra_subtotal),fe(g.obra_material_subtotal)},1e3)))})},o=async()=>{x(!0);const l={identyCotizacion:F,perteneceTomo:E,capturaTomo:ae,seleccionTomo:re,descripcionMaterial:oe,seleccionUnidadMedida:le,cantidadMaterial:O,costoMaterialSugerido:N,costoMaterialFinal:A,subTotalMaterial:$,costoManoObraSugerido:X,costoManoObraFinal:U,subTotalManoObra:L,subTotalMateObraTotal:pe,citaComentario:me};await he.post(`${route("cotizacion.guardad.captura")}`,l).then(p=>{const{status:S,data:g}=p;S==201&&a.current.show({severity:"info",summary:"Info",detail:`${g.success}`})}).catch(p=>{var _;const{response:S,status:g}=p;if(g==500){const Ge=((_=S==null?void 0:S.data)==null?void 0:_.error)||"";a.current.show({severity:"error",summary:"Error",detail:`No se pudo guardar la cotización.${Ge}`,life:9e3})}}).finally(()=>{setTimeout(()=>{r(),setTimeout(()=>{a.current.show({severity:"info",summary:"Info",detail:"Datos guardados correctamente"}),x(!1)},1e3)},2e3)})},u=async()=>{x(!0);const l={identyDetallle:V,identyCotizacion:F,perteneceTomo:E,capturaTomo:ae,seleccionTomo:re,descripcionMaterial:oe,seleccionUnidadMedida:le,cantidadMaterial:O,costoMaterialSugerido:N,costoMaterialFinal:A,subTotalMaterial:$,costoManoObraSugerido:X,costoManoObraFinal:U,subTotalManoObra:L,subTotalMateObraTotal:pe,citaComentario:me};try{await he.post(`${route("cotizacion.captura.item.actualiza")}`,l).then(p=>{const{status:S,data:g}=p;S==201&&a.current.show({severity:"info",summary:"Info",detail:"Datos actualizados correctamente"})}).finally(()=>{setTimeout(()=>{r(),setTimeout(()=>{a.current.show({severity:"info",summary:"Info",detail:"Datos guardados correctamente"}),x(!1)},1e3)},600)})}catch{setLoader(!1),a.current.show}},d=l=>{l.preventDefault(),b=="todo"&&o(),(b=="tomo"||b=="detalle")&&u()},y=n.jsx("div",{className:"flex justify-content-end",children:n.jsxs("div",{className:"max-w-full",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Aumento Costos %"}),n.jsx(ke,{value:m,onChange:l=>D(l.target.value),className:"w-full p-inputtext-sm",readOnly:!0}),n.jsx(qe,{value:m,onChange:l=>D(l.value),className:"w-full"})]})}),R=()=>{C(ee),B(ce),D(0),setTimeout(()=>{a.current.show({severity:"info",summary:"Info",detail:`Se implemento el porentaje ${m}. Actualiza para guardar los cambios necesarios`}),ie(null),ue(null)},1e3)};return n.jsxs("div",{className:"card",children:[n.jsxs("form",{action:"",method:"post",onSubmit:d,children:[(b==="todo"||b==="tomo")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{class:"formgrid grid",children:[n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"defineTomo",className:"font-bold block mb-2",children:"Definición de Tomo"}),n.jsx(Ie,{value:E,onChange:l=>{T(l.value)},disabled:I,options:f,optionLabel:"name",placeholder:"Seleccione",className:"w-full"})]}),n.jsxs("div",{class:"field col-8",children:[E==1&&n.jsxs(n.Fragment,{children:[n.jsx("label",{htmlFor:"mile",className:"font-bold block mb-2",children:"Captura un Tomo"}),n.jsx(ke,{value:ae,onChange:l=>xe(l.target.value),className:"w-full"})]}),E==2&&n.jsxs(n.Fragment,{children:[n.jsx("label",{htmlFor:"selectTomo",className:"font-bold block mb-2",children:"Selecciona un Tomo"}),n.jsx(Ie,{value:re,onChange:l=>je(l.value),options:Ee,optionLabel:"name",placeholder:"Seleccione",className:"w-full"})]})]})]}),n.jsx(Oe,{})]}),(b==="todo"||b==="detalle")&&n.jsxs(n.Fragment,{children:[n.jsx("h5",{children:"Costo de Materiales"}),V!==null&&n.jsx("div",{class:"col-12",children:y}),n.jsx("div",{class:"formgrid grid",children:n.jsxs("div",{class:"field col-12",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Descripción"}),n.jsx(et,{value:oe,onTextChange:l=>se(l.htmlValue),style:{height:"160px"}})]})}),n.jsxs("div",{class:"formgrid grid",children:[n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Unidad"}),n.jsx(Ie,{value:le,onChange:l=>Se(l.value),options:ne,optionLabel:"name",placeholder:"Selecciona",className:"w-full"})]}),n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"cantidad",className:"font-bold block mb-2",children:"Catidad"}),n.jsx(K,{inputId:"cantidad",value:O,min:0,maxFractionDigits:0,onValueChange:l=>Y(l.value),placeholder:"Cantidad"})]}),n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"CostoSugerido",className:"font-bold block mb-2",children:"Costo Unitario Sugerido"}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{inputId:"cantidad",value:N,min:0,maxFractionDigits:0,onValueChange:l=>Q(l.value),placeholder:"Consto Unitario Sugerido"})]})]}),n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Costo Unitario"}),ee&&n.jsx("div",{className:"flex justify-content-end",children:n.jsx($e,{value:`$ ${ee}`})}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{inputId:"cantidad",value:A,min:0,maxFractionDigits:0,onValueChange:l=>C(l.value),placeholder:"Consto Unitario"})]})]}),n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Subtotal"}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{inputId:"cantidad",disabled:!0,value:$,onValueChange:l=>Z(l.value),placeholder:"Consto Unitario"})]})]})]}),i.es_mano_obra==1&&n.jsxs(n.Fragment,{children:[n.jsx(Oe,{}),n.jsx("h5",{children:"Costo de Mano de Obra"}),n.jsxs("div",{class:"formgrid grid",children:[n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"costUnitSugeridoManoObra",className:"font-bold block mb-2",children:"Costo Unitario Sugerido"}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{inputId:"cantidad",value:X,min:0,maxFractionDigits:0,onValueChange:l=>de(l.value),placeholder:"Consto Unitario"})]})]}),n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Costo Unitario"}),ce&&n.jsx("div",{className:"flex justify-content-center",children:n.jsx($e,{value:`$ ${ce}`})}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{inputId:"cantidad",value:U,min:0,maxFractionDigits:0,onValueChange:l=>B(l.value),placeholder:"Consto Unitario"})]})]}),n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Subtotal"}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{disabled:!0,inputId:"cantidad",value:L,onValueChange:l=>M(l.value),placeholder:"Consto Unitario"})]})]})]}),n.jsx(Oe,{}),n.jsx("h5",{children:"M.O./MATER."}),n.jsx("div",{class:"formgrid grid",children:n.jsxs("div",{class:"field col-4",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Subtotal"}),n.jsxs("div",{className:"p-inputgroup flex-1",children:[n.jsx("span",{className:"p-inputgroup-addon",children:"$"}),n.jsx(K,{disabled:!0,inputId:"cantidad",value:pe,onValueChange:l=>fe(l.value),placeholder:"Subtotal"})]})]})})]}),n.jsx(Oe,{}),n.jsx("h5",{children:"Agregar algun comentario"}),n.jsx("div",{class:"formgrid grid",children:n.jsxs("div",{class:"field col-12",children:[n.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Descripcion"}),n.jsx(Ye,{className:"w-full",value:me,onChange:l=>we(l.target.value),rows:2,cols:30})]})})]}),n.jsxs("div",{className:"card flex justify-content-center",children:[w&&n.jsx(Ze,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"}),!w&&m===0&&n.jsx(Ae,{type:"submit",label:G}),!w&&m>0&&n.jsx(Ae,{label:"Aplicar % Calculo",severity:"info",onClick:l=>{l.preventDefault(),R()}})]})]}),n.jsx(Qe,{ref:a})]})};export{Rt as default};
