import{r as s,j as e}from"./app-dd05d154.js";import{B as N}from"./button.esm-ceaa1394.js";import{D as P}from"./dialog.esm-08b8fe93.js";import{P as S}from"./progressspinner.esm-3a320bfa.js";import{I as n}from"./inputswitch.esm-48d13ac7.js";import"./ripple.esm-f46f8654.js";import"./tooltip.esm-4fb46b8c.js";import"./index.esm-0900a10d.js";const y=({identyCotizacion:h=1,vistraPreviaPDF:c,setVistraPreviaPDF:b})=>{const[t,d]=s.useState(!1),[l,f]=s.useState(!1),[r,m]=s.useState(!1),[x,g]=s.useState(!1),[u,i]=s.useState(null),[p,o]=s.useState(!1);s.useEffect(()=>{i(null),o(!1),j(),g(c)},[c]);const j=()=>{d(!1),f(!1),m(!1)},v=()=>{i(null),o(!0),setTimeout(()=>{const a=`${route("exportar.pdf.cotizacion")}?id=${h}&encabezado=${t}&pie-pagina=${l}&firma=${r}`;console.log("Esta es la url",a),setTimeout(()=>{i(a),o(!1)},1e3)},1e3)};return e.jsx(e.Fragment,{children:e.jsxs(P,{header:"Vista Previa Cotización",visible:x,maximizable:!0,style:{width:"50vw"},onHide:()=>{x&&b(!1)},children:[e.jsxs("div",{className:"card flex flex-wrap gap-4 p-fluid",children:[e.jsxs("div",{className:"flex-auto text-center",children:[e.jsx("label",{htmlFor:"mile",className:"font-bold block mb-2",children:"Agregar encabezados"}),e.jsx(n,{checked:t,onChange:a=>d(a.value)})," ",e.jsx("span",{children:t?"SI":"NO"})]}),e.jsxs("div",{className:"flex-auto text-center",children:[e.jsx("label",{htmlFor:"percent",className:"font-bold block mb-2",children:"Agregar Pie de Pagina"}),e.jsx(n,{checked:l,onChange:a=>f(a.value)}),l?"SI":"NO"]}),e.jsxs("div",{className:"flex-auto text-center",children:[e.jsx("label",{htmlFor:"expiry",className:"font-bold block mb-2",children:"Agregar Firma"}),e.jsx(n,{checked:r,onChange:a=>m(a.value)}),r?"SI":"NO"]}),e.jsx("div",{className:"flex-auto",children:e.jsx(N,{label:"Generar PDF",iconPos:"right",onClick:()=>v(),disabled:p})})]}),p&&e.jsx("div",{className:"flex justify-content-center",children:e.jsx(S,{})}),u!==null&&e.jsx("iframe",{src:u,width:"100%",height:"500px",style:{border:"none"},title:"Vista Previa Cotización"})]})})};export{y as default};
