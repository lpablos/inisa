{"version":3,"file":"Index-89c0344a.js","sources":["../../../resources/js/Pages/Actividades/Index.jsx"],"sourcesContent":["import Layout from \"@/Layouts/layout/layout\";\nimport React, { Component, useEffect, useState,useRef } from \"react\";\nimport BusquedaActividad from \"./Partials/BusquedaActividad\";\nimport ListadoActividades from \"./Partials/ListadoActividades\";\nimport { LogarithmicScale } from \"chart.js\";\n\nconst Index = (props) => {\n    const refHermanoB = useRef(null);\n\n    const [nombre, setNombre] = useState(props?.auth?.user?.name ?? \"\");\n\n\n    // Adecuacion \n    // const [registros, setRegistros] = useState([]);\n    // const [lastPageUrl, setLastPageUrl] = useState('');\n    // const [nextPageUrl, setNextPageUrl] = useState('');  \n    // const [totalRegistros, setTotalRegistros] = useState(0);\n    // const [porPagina, setPorPagina] = useState(10);\n    // const [paginaActual, setPaginaActual] = useState(1);\n\n    const [registros, setRegistros] = useState([]);\n    const [paginaActual, setPaginaActual] = useState(1);\n    const [perPage, setPerPage] = useState(20);\n    const [total, setTotal] = useState(0);\n\n    const recargarBusqueda = (pagina = 1) => {\n        if (refHermanoB.current) {\n            refHermanoB.current.reloadListado(pagina); // ✅ esto ahora funcionará\n        }\n    };\n\n    const onPageChange = (nuevaPagina) =>{\n        recargarBusqueda(nuevaPagina);\n    }\n\n    return (\n        <Layout>\n            <div className=\"card grid\">\n                <div className=\"w-12 pr-3\">\n                    <BusquedaActividad \n                        setRegistros ={setRegistros}\n                        setPaginaActual={setPaginaActual}\n                        setPerPage={setPerPage}\n                        setTotal={setTotal}\n                        ref={refHermanoB} \n                    />    \n                    <ListadoActividades \n                        nombre={nombre} \n                        registros={registros} \n                        paginaActual={paginaActual}\n                        perPage={perPage}\n                        total={total}\n                        onPageChange={onPageChange}\n                        recargar={recargarBusqueda} \n                    />           \n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Index;"],"names":["Index","props","refHermanoB","useRef","nombre","setNombre","useState","_b","_a","registros","setRegistros","paginaActual","setPaginaActual","perPage","setPerPage","total","setTotal","recargarBusqueda","pagina","onPageChange","nuevaPagina","jsx","Layout","jsxs","BusquedaActividad","ListadoActividades"],"mappings":"g0CAMM,MAAAA,GAASC,GAAU,SACf,MAAAC,EAAcC,SAAO,IAAI,EAEzB,CAACC,EAAQC,CAAS,EAAIC,aAASC,GAAAC,EAAAP,GAAA,YAAAA,EAAO,OAAP,YAAAO,EAAa,OAAb,YAAAD,EAAmB,OAAQ,EAAE,EAW5D,CAACE,EAAWC,CAAY,EAAIJ,EAAA,SAAS,CAAE,CAAA,EACvC,CAACK,EAAcC,CAAe,EAAIN,WAAS,CAAC,EAC5C,CAACO,EAASC,CAAU,EAAIR,WAAS,EAAE,EACnC,CAACS,EAAOC,CAAQ,EAAIV,WAAS,CAAC,EAE9BW,EAAmB,CAACC,EAAS,IAAM,CACjChB,EAAY,SACAA,EAAA,QAAQ,cAAcgB,CAAM,CAC5C,EAGEC,EAAgBC,GAAe,CACjCH,EAAiBG,CAAW,CAAA,EAI5B,OAAAC,EAAAA,IAACC,GACG,SAACD,EAAA,IAAA,MAAA,CAAI,UAAU,YACX,SAAAE,EAAAA,KAAC,MAAI,CAAA,UAAU,YACX,SAAA,CAAAF,EAAA,IAACG,EAAA,CACG,aAAAd,EACA,gBAAAE,EACA,WAAAE,EACA,SAAAE,EACA,IAAKd,CAAA,CACT,EACAmB,EAAA,IAACI,EAAA,CACG,OAAArB,EACA,UAAAK,EACA,aAAAE,EACA,QAAAE,EACA,MAAAE,EACA,aAAAI,EACA,SAAUF,CAAA,CACd,CAAA,EACJ,EACJ,CACJ,CAAA,CAER"}