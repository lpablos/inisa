{"version":3,"file":"BusquedaCotizacion-8ee20390.js","sources":["../../../resources/js/Pages/LogsActividades/partials/BusquedaCotizacion.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Button } from 'primereact/button';\nimport axios from \"axios\";\nimport { elements } from 'chart.js';\n\nconst BusquedaCotizacion = ({activarBusqueda}) =>{\n    const [estatus, setEstatus] = useState([ {\n        id: 0, // O undefined si prefieres\n        nombre: \"Todos\",\n        abreviacion: \"*\",\n        descripcion: \"Todos\"\n    }]);\n    const [selectedEstatus, setSelectedEstatus] = useState(0);\n    const [disabled, setDisabled] = useState(false)\n    \n    \n    const toast = useRef(null);\n\n    useEffect(() => {\n        obtenerStatuses();\n        setTimeout(() => {\n            setSelectedEstatus({\n                \"id\": 0,\n                \"nombre\": \"Todos\",\n                \"abreviacion\": \"*\",\n                \"descripcion\": \"* - Todos\"\n            })\n        }, 800);\n    }, []);\n\n\n\n    const obtenerStatuses = async () => {\n        try {\n            const response = await axios.get(route(\"catalogo.list.status\"));\n            const {data} = response;\n            const todosEstatus = data.map(element => ({\n                id: element.id,\n                nombre: element.nombre,\n                abreviacion: element.abreviacion,\n                descripcion: element.abreviacion+' - '+element.descripcion,\n            }))\n\n            setEstatus([...estatus, ...todosEstatus]);\n            \n        } catch (error) {\n            toast.current.show({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: \"No se pudo obtener la lista de statuses.\",\n                life: 3000,\n            });\n        }\n    };\n\n    const realizarBusqueda = () =>{\n        activarBusqueda(selectedEstatus)\n        setDisabled(true)\n        setTimeout(() => {\n            setDisabled(false)\n        }, 1000);\n    }\n    useEffect(()=>{\n        realizarBusqueda()\n    },[selectedEstatus])\n\n    return (\n        <div className=\"p-inputgroup md:w-23rem \">\n            <Dropdown value={selectedEstatus} onChange={(e) => setSelectedEstatus(e.value)} options={estatus} optionLabel=\"descripcion\" placeholder=\"Seleciona Estatus\" className=\"w-full md:w-17rem\" />\n            <Button icon=\"pi pi-search\" className=\"p-button-warning\" onClick={()=>realizarBusqueda()} disabled={disabled}/>\n        </div>\n        \n    );\n    \n}\n\nexport default BusquedaCotizacion;"],"names":["BusquedaCotizacion","activarBusqueda","estatus","setEstatus","useState","selectedEstatus","setSelectedEstatus","disabled","setDisabled","toast","useRef","useEffect","obtenerStatuses","response","axios","data","todosEstatus","element","realizarBusqueda","jsxs","jsx","Dropdown","e","Button"],"mappings":"idAMA,MAAMA,EAAqB,CAAC,CAAC,gBAAAC,KAAoB,CAC7C,KAAM,CAACC,EAASC,CAAU,EAAIC,WAAS,CAAE,CACrC,GAAI,EACJ,OAAQ,QACR,YAAa,IACb,YAAa,OAChB,CAAA,CAAC,EACI,CAACC,EAAiBC,CAAkB,EAAIF,WAAS,CAAC,EAClD,CAACG,EAAUC,CAAW,EAAIJ,WAAS,EAAK,EAGxCK,EAAQC,SAAO,IAAI,EAEzBC,EAAAA,UAAU,IAAM,CACIC,IAChB,WAAW,IAAM,CACMN,EAAA,CACf,GAAM,EACN,OAAU,QACV,YAAe,IACf,YAAe,WAAA,CAClB,GACF,GAAG,CACV,EAAG,CAAE,CAAA,EAIL,MAAMM,EAAkB,SAAY,CAC5B,GAAA,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAI,MAAM,sBAAsB,CAAC,EACxD,CAAC,KAAAC,CAAQ,EAAAF,EACTG,EAAeD,EAAK,IAAgBE,IAAA,CACtC,GAAIA,EAAQ,GACZ,OAAQA,EAAQ,OAChB,YAAaA,EAAQ,YACrB,YAAaA,EAAQ,YAAY,MAAMA,EAAQ,WACjD,EAAA,EAEFd,EAAW,CAAC,GAAGD,EAAS,GAAGc,CAAY,CAAC,OAE5B,CACZP,EAAM,QAAQ,KAAK,CACf,SAAU,QACV,QAAS,QACT,OAAQ,2CACR,KAAM,GAAA,CACT,CACL,CAAA,EAGES,EAAmB,IAAK,CAC1BjB,EAAgBI,CAAe,EAC/BG,EAAY,EAAI,EAChB,WAAW,IAAM,CACbA,EAAY,EAAK,GAClB,GAAI,CAAA,EAEXG,OAAAA,EAAAA,UAAU,IAAI,CACOO,GAAA,EACnB,CAACb,CAAe,CAAC,EAGfc,EAAA,KAAC,MAAI,CAAA,UAAU,2BACX,SAAA,CAAAC,MAACC,GAAS,MAAOhB,EAAiB,SAAWiB,GAAMhB,EAAmBgB,EAAE,KAAK,EAAG,QAASpB,EAAS,YAAY,cAAc,YAAY,oBAAoB,UAAU,oBAAoB,EAC1LkB,EAAAA,IAACG,EAAO,CAAA,KAAK,eAAe,UAAU,mBAAmB,QAAS,IAAIL,EAAiB,EAAG,SAAAX,CAAmB,CAAA,CACjH,CAAA,CAAA,CAIR"}