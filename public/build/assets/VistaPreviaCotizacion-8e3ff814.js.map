{"version":3,"file":"VistaPreviaCotizacion-8e3ff814.js","sources":["../../../resources/js/Pages/Cotizaciones/partials/VistaPreviaCotizacion.jsx"],"sourcesContent":["import React,{useEffect, useState} from 'react';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { InputSwitch } from \"primereact/inputswitch\";\n\n\nconst VistaPreviaCotizacion = ({identyCotizacion=1,vistraPreviaPDF, setVistraPreviaPDF}) => {\n    \n    const [encabezado, setEncabezado] = useState(false);\n    const [piePagina, setpiePagina] = useState(false);\n    const [firma, setFirma] = useState(false);\n    \n    const [visible, setVisible] = useState(false);\n    const [pdfUrl, setPdfUrl] = useState(null)\n\n    const [load, setLoad]= useState(false)\n    useEffect(() => {\n        setPdfUrl(null)\n        setLoad(false)\n        resetOpt()\n        \n        setVisible(vistraPreviaPDF);\n    }, [vistraPreviaPDF]);\n\n    const resetOpt = ()=>{\n        setEncabezado(false)\n        setpiePagina(false)\n        setFirma(false)\n        \n    }\n\n    const generarPdf = () =>{\n        setPdfUrl(null)\n        setLoad(true)\n        setTimeout(() => {\n            const pdfUrl = `${route(\"exportar.pdf.cotizacion\")}?id=${identyCotizacion}&encabezado=${encabezado}&pie-pagina=${piePagina}&firma=${firma}`;\n            console.log(\"Esta es la url\", pdfUrl);\n            \n            setTimeout(() => {\n                // Se comenta para posterior llamar al correcto\n                setPdfUrl(pdfUrl)\n                // setPdfUrl('https://www.soundczech.cz/temp/lorem-ipsum.pdf')\n                setLoad(false);\n            }, 1000);                \n        }, 1000);\n\n    }\n\n\n    return (\n        <>\n            {/* <Button label=\"Show\" icon=\"pi pi-external-link\" onClick={() => setVisible(true)} /> */}\n            <Dialog header=\"Vista Previa Cotización\" visible={visible} maximizable style={{ width: '50vw' }} onHide={() => {if (!visible) return; setVistraPreviaPDF(false); }}>\n                <div className=\"card flex flex-wrap gap-4 p-fluid\">\n                    <div className=\"flex-auto text-center\">\n                        <label htmlFor=\"mile\" className=\"font-bold block mb-2\">Agregar encabezados</label>\n                        <InputSwitch checked={encabezado} onChange={(e) => setEncabezado(e.value)} /> <span>{encabezado?'SI':'NO'}</span>\n                    </div>\n                    <div className=\"flex-auto text-center\">\n                        <label htmlFor=\"percent\" className=\"font-bold block mb-2\">Agregar Pie de Pagina</label>\n                        <InputSwitch checked={piePagina} onChange={(e) => setpiePagina(e.value)} />{piePagina?'SI':'NO'}\n                    </div>\n                    <div className=\"flex-auto text-center\">\n                        <label htmlFor=\"expiry\" className=\"font-bold block mb-2\">Agregar Firma</label>\n                        <InputSwitch checked={firma} onChange={(e) => setFirma(e.value)} />{firma?'SI':'NO'}\n                    </div>\n                    <div className=\"flex-auto\">\n                        <Button label=\"Generar PDF\" iconPos=\"right\" onClick={()=>generarPdf()} disabled={load}/>\n                    </div>\n                </div>\n                {load && (\n                     <div className=\"flex justify-content-center\">\n                        <ProgressSpinner />\n                    </div>\n                )}\n                {pdfUrl!==null && (\n                    <iframe\n                        src={pdfUrl}\n                        width=\"100%\"\n                        height=\"500px\"\n                        style={{ border: 'none' }}\n                        title=\"Vista Previa Cotización\"\n                    />\n                )}\n                \n            </Dialog>\n        </>\n\n    );\n\n}\n\nexport default VistaPreviaCotizacion;\n"],"names":["VistaPreviaCotizacion","identyCotizacion","vistraPreviaPDF","setVistraPreviaPDF","encabezado","setEncabezado","useState","piePagina","setpiePagina","firma","setFirma","visible","setVisible","pdfUrl","setPdfUrl","load","setLoad","useEffect","resetOpt","generarPdf","jsx","Fragment","jsxs","Dialog","InputSwitch","e","Button","ProgressSpinner"],"mappings":"6bAOA,MAAMA,EAAwB,CAAC,CAAC,iBAAAC,EAAiB,EAAE,gBAAAC,EAAiB,mBAAAC,KAAwB,CAExF,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAAS,EAAK,EAC5C,CAACC,EAAWC,CAAY,EAAIF,WAAS,EAAK,EAC1C,CAACG,EAAOC,CAAQ,EAAIJ,WAAS,EAAK,EAElC,CAACK,EAASC,CAAU,EAAIN,WAAS,EAAK,EACtC,CAACO,EAAQC,CAAS,EAAIR,WAAS,IAAI,EAEnC,CAACS,EAAMC,CAAO,EAAGV,WAAS,EAAK,EACrCW,EAAAA,UAAU,IAAM,CACZH,EAAU,IAAI,EACdE,EAAQ,EAAK,EACJE,IAETN,EAAWV,CAAe,CAAA,EAC3B,CAACA,CAAe,CAAC,EAEpB,MAAMgB,EAAW,IAAI,CACjBb,EAAc,EAAK,EACnBG,EAAa,EAAK,EAClBE,EAAS,EAAK,CAAA,EAIZS,EAAa,IAAK,CACpBL,EAAU,IAAI,EACdE,EAAQ,EAAI,EACZ,WAAW,IAAM,CACb,MAAMH,EAAS,GAAG,MAAM,yBAAyB,CAAC,OAAOZ,CAAgB,eAAeG,CAAU,eAAeG,CAAS,UAAUE,CAAK,GACjI,QAAA,IAAI,iBAAkBI,CAAM,EAEpC,WAAW,IAAM,CAEbC,EAAUD,CAAM,EAEhBG,EAAQ,EAAK,GACd,GAAI,GACR,GAAI,CAAA,EAKX,OAGQI,EAAAA,IAAAC,EAAAA,SAAA,CAAA,SAAAC,EAAAA,KAACC,EAAO,CAAA,OAAO,0BAA0B,QAAAZ,EAAkB,YAAW,GAAC,MAAO,CAAE,MAAO,MAAO,EAAG,OAAQ,IAAM,CAAMA,GAAiBR,EAAmB,EAAK,CAC1J,EAAA,SAAA,CAACmB,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wBACX,SAAA,CAAAF,MAAC,QAAM,CAAA,QAAQ,OAAO,UAAU,uBAAuB,SAAmB,sBAAA,EAC1EA,EAAAA,IAACI,EAAY,CAAA,QAASpB,EAAY,SAAWqB,GAAMpB,EAAcoB,EAAE,KAAK,CAAG,CAAA,EAAE,IAAEL,EAAA,IAAA,OAAA,CAAM,SAAWhB,EAAA,KAAK,KAAK,CAAA,EAC9G,EACAkB,EAAAA,KAAC,MAAI,CAAA,UAAU,wBACX,SAAA,CAAAF,MAAC,QAAM,CAAA,QAAQ,UAAU,UAAU,uBAAuB,SAAqB,wBAAA,EAC/EA,EAAAA,IAACI,EAAY,CAAA,QAASjB,EAAW,SAAWkB,GAAMjB,EAAaiB,EAAE,KAAK,CAAG,CAAA,EAAGlB,EAAU,KAAK,IAAA,EAC/F,EACAe,EAAAA,KAAC,MAAI,CAAA,UAAU,wBACX,SAAA,CAAAF,MAAC,QAAM,CAAA,QAAQ,SAAS,UAAU,uBAAuB,SAAa,gBAAA,EACtEA,EAAAA,IAACI,EAAY,CAAA,QAASf,EAAO,SAAWgB,GAAMf,EAASe,EAAE,KAAK,CAAG,CAAA,EAAGhB,EAAM,KAAK,IAAA,EACnF,QACC,MAAI,CAAA,UAAU,YACX,SAAAW,EAAA,IAACM,GAAO,MAAM,cAAc,QAAQ,QAAQ,QAAS,IAAIP,EAAc,EAAA,SAAUJ,CAAK,CAAA,EAC1F,CAAA,EACJ,EACCA,GACKK,EAAA,IAAA,MAAA,CAAI,UAAU,8BACZ,SAAAA,MAACO,GAAgB,CAAA,EACrB,EAEHd,IAAS,MACNO,EAAA,IAAC,SAAA,CACG,IAAKP,EACL,MAAM,OACN,OAAO,QACP,MAAO,CAAE,OAAQ,MAAO,EACxB,MAAM,yBAAA,CACV,CAAA,CAGR,CAAA,CACJ,CAAA,CAIR"}