import{r as t,j as e}from"./app-6c82f11e.js";import{B as D}from"./button.esm-41370389.js";import{D as N}from"./dialog.esm-1817fed8.js";import{E as T}from"./editor.esm-64157026.js";import{T as B}from"./toast.esm-8381782e.js";import"./iconbase.esm-c62f15b0.js";import"./index.esm-e44f5f68.js";import"./ripple.esm-79db3f70.js";import"./tooltip.esm-0f28f899.js";import"./csstransition.esm-09727ec9.js";import"./index.esm-366dce1b.js";import"./index.esm-c60f89d0.js";const q=({activarEliminar:u,setPreguntaEliminar:d,identyDelete:f,setIdentyDelete:v,recargar:j})=>{const[r,l]=t.useState(!1),[p,n]=t.useState(""),[E,a]=t.useState(!1),o=t.useRef(null),[y,b]=t.useState(null);t.useEffect(()=>{u==!0&&l(!0),b(f)},[u,f]),t.useEffect(()=>{r===!1&&(d(!1),n(""))},[r]);const g=({responsable:i,titulo:c,descripcion:s,prioridad:m,estatus:x,fecha:h})=>s!=null&&s.trim()?null:"La descripción es obligatoria.",S=()=>{n("")},w=async i=>{i.preventDefault(),a(!0);const c={descripcion:p},s=g(c);if(s){o.current.show({severity:"error",summary:"Error",detail:s,life:3e3}),a(!1);return}try{const m=await axios.post(route("activiades.destroy",{activiade:y}),{...c,_method:"DELETE"}),{data:x,status:h}=m;h===200&&(o.current.show({severity:"success",summary:"Success",detail:`${x.success}`,life:3e3}),v(null),S(),l(!1),a(!1),d(!1),j(1))}catch{o.current.show({severity:"error",summary:"Error",detail:"Erro Al Eliminar Actividad.",life:3e3}),a(!1)}};return e.jsxs("div",{className:"flex justify-content-center",children:[e.jsx(B,{ref:o}),e.jsx(N,{header:"Baja Registro",visible:r,style:{width:"50vw"},onHide:()=>{r&&l(!1)},children:e.jsxs("form",{action:"",onSubmit:w,children:[e.jsx("p",{className:"m-0",children:"Para continuar con el proceso de eliminación del registro, ¿podría indicarnos el motivo de esta solicitud?."}),e.jsx(T,{value:p,onTextChange:i=>n(i.htmlValue),style:{height:"120px"},className:"mt-4"}),e.jsx("div",{className:"flex items-center gap-3 p-4",children:e.jsx("div",{className:"ml-auto flex gap-2",children:e.jsx(D,{label:"Eliminar",icon:"pi pi-check",loading:E,type:"submit"})})})]})})]})};export{q as default};
//# sourceMappingURL=EliminarMotivo-8e206d59.js.map
