import{r as i,P as he,O as k,c as we,j as c}from"./app-6c82f11e.js";import{D as ge}from"./dialog.esm-1817fed8.js";import{C as xe,u as be,a as Ee}from"./iconbase.esm-c62f15b0.js";import $e from"./TablasCatalogos-e20fc4ed.js";import Ce from"./FormularioProvedor-acd3b404.js";import Se from"./FormularioDepartamento-84684752.js";import je from"./FormularioClientes-b5a3a690.js";import Me from"./FormularioUnidadMedida-a4439750.js";import ke from"./FormularioUsuario-a39ca41a.js";import De from"./FormularioEmpresa-b34783c1.js";import S from"./ConfirmarEliminacion-9b760f7a.js";import{T as Pe}from"./toast.esm-8381782e.js";import{P as Te}from"./progressspinner.esm-6c0927c0.js";import Ne from"./FormularioMoneda-7e7370f4.js";import Ue from"./FormularioStatus-0fd764c6.js";import"./csstransition.esm-09727ec9.js";import"./index.esm-366dce1b.js";import"./tooltip.esm-0f28f899.js";import"./ripple.esm-79db3f70.js";import"./column.esm-a678af90.js";import"./index.esm-e44f5f68.js";import"./inputnumber.esm-83251a88.js";import"./index.esm-ad4d5920.js";import"./inputtext.esm-637833b0.js";import"./index.esm-971704a7.js";import"./dropdown.esm-afaf7a02.js";import"./overlayservice.esm-c4b1edec.js";import"./virtualscroller.esm-cb5beb47.js";import"./index.esm-c60f89d0.js";import"./index.esm-7f14e7bd.js";import"./index.esm-39b5d000.js";import"./button.esm-41370389.js";import"./index.esm-86191ea3.js";import"./index.esm-0f606109.js";import"./floatlabel.esm-d6d5cf22.js";import"./avatar.esm-db5669d4.js";var ze={root:"p-card p-component",header:"p-card-header",title:"p-card-title",subTitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer",body:"p-card-body"},Fe=`
@layer primereact {
    .p-card-header img {
        width: 100%;
    }
}
`,z=xe.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0},css:{classes:ze,styles:Fe}}),J=i.forwardRef(function(u,b){var p=be(),y=i.useContext(he),n=z.getProps(u,y),f=i.useRef(b),j=z.setMetaData({props:n}),m=j.ptm,d=j.cx,w=j.isUnstyled;Ee(z.css.styles,w,{name:"card"});var g=function(){var M=p({className:d("header")},m("header"));return n.header?i.createElement("div",M,k.getJSXElement(n.header,n)):null},h=function(){var M=p({className:d("title")},m("title")),E=n.title&&i.createElement("div",M,k.getJSXElement(n.title,n)),v=p({className:d("subTitle")},m("subTitle")),$=n.subTitle&&i.createElement("div",v,k.getJSXElement(n.subTitle,n)),r=p({className:d("content")},m("content")),R=n.children&&i.createElement("div",r,n.children),A=p({className:d("footer")},m("footer")),C=n.footer&&i.createElement("div",A,k.getJSXElement(n.footer,n)),B=p({className:d("body")},m("body"));return i.createElement("div",B,E,$,R,C)};i.useEffect(function(){k.combinedRefs(f,b)},[f,b]);var x=p({id:n.id,ref:f,style:n.style,className:we(n.className,d("root"))},z.getOtherProps(n),m("root")),D=g(),F=h();return i.createElement("div",x,D,F)});J.displayName="Card";function wa({tpOperacion:u,setOperacion:b}){const[p,y]=i.useState(!1),[n,f]=i.useState(""),[j,m]=i.useState([]),[d,w]=i.useState({}),[g,h]=i.useState(!1),[x,D]=i.useState("Guardar"),[F,t]=i.useState(!1),[M,E]=i.useState(!1),[v,$]=i.useState(!0),r=i.useRef(null);i.useEffect(()=>{switch(t(!0),$(!0),E(!1),console.log("Este es",u),u){case"provedores":y(!0),C(),f("Catalogo de Provedores");break;case"departamentos":y(!0),P(),f("Catalogo de Departamentos");break;case"unidadesMedidas":f("Catalogo de Unidades de Medida"),T(),y(!0);break;case"tiposMonedas":f("Catalogo de Tipos de Monedas"),N(),y(!0);break;case"tiposStatus":f("Catalogo de Status"),U(),y(!0);break;case"usuarios":break;case"datosEmpresa":f("Datos de la Empresa"),obtenerEmpresa(),y(!0);break;default:f(""),y(!1),b(null);break}},[u]);const R=async e=>{switch(console.log("Este es el identy",e,u),u){case"provedores":await ye(e);break;case"departamentos":await ve(e);break;case"clientes":await q(e);break;case"unidadesMedidas":await O(e);break;case"tiposMonedas":await se(e);break;case"tiposStatus":await ce(e);break;default:f(""),y(!1),b(null);break}},A=e=>{switch(u){case"provedores":B(e);break;case"departamentos":_(e);break;case"clientes":I(e);break;case"unidadesMedidas":ee(e);break;case"tiposMonedas":oe(e);break;case"tiposStatus":ue(e);break}h(!1),$(!1),E(!0),D("Actualizar")},C=async()=>{t(!0),await axios.get(`${route("catalogo.list.provedores")}`).then(e=>{const{data:a}=e;m(a),t(!0)}).finally(()=>{t(!1)})},B=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.proveedor",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},X=async e=>{t(!0),await axios.post(`${route("catalogo.actualiza.provedor")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),C())}).finally(()=>{t(!1)})},L=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.provedor")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),C())}).finally(()=>{t(!1)})},P=async()=>{t(!0),await axios.get(`${route("catalogo.list.departamentos")}`).then(e=>{const{data:a}=e;m(a)}).finally(()=>{t(!1)})},_=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.departamento",{id:e})}`).then(a=>{console.log("datos departamento",a),w(a)}).finally(()=>{t(!1)})},G=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.departamento")}`,e),{status:o,data:s}=a;o===201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),P(),t(!1))}catch(a){console.error("Error actualizando el departamento:",a),t(!1),r.current.show({severity:"error",summary:"Error",detail:"Ocurrió un error al actualizar el departamento.",life:3e3})}},V=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.departamento")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),P())}).finally(()=>{t(!1)})},H=async()=>{t(!0),await axios.get(`${route("catalogo.list.clientes")}`).then(e=>{const{data:a}=e;m(a)}).finally(()=>{t(!1)})},W=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.cliente")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),H()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},Y=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.cliente",{id:e})}`),r.current.show({severity:"success",summary:"cliente eliminado",detail:"El cliente ha sido eliminado exitosamente.",life:3e3}),t(!1),H()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el cliente.",life:3e3}),t(!1)}},q=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:c.jsx(S,{onConfirm:()=>{Y(e),r.current.clear()},onCancel:()=>r.current.clear()})})},I=async e=>{console.log("identy en obtenerDetalleCliente:",e),await axios.get(`${route("catalogo.detalle.cliente",{id:e})}`).then(a=>{console.log("datos cliente",a),w(a)})},K=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.cliente")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),H())}).finally(()=>{t(!1)})},T=async()=>{t(!0),await axios.get(`${route("catalogo.list.unidadesmedidas")}`).then(e=>{const{data:a}=e;m(a)}).finally(()=>{t(!1)})},Q=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.unidadmedida")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),T()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},Z=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.unidadmedida",{id:e})}`),r.current.show({severity:"success",summary:"Unidad de Medida eliminado",detail:"La Unidad de Medida ha sido eliminado exitosamente.",life:3e3}),t(!1),T()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el cliente.",life:3e3}),t(!1)}},O=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:c.jsx(S,{onConfirm:()=>{Z(e),r.current.clear()},onCancel:()=>r.current.clear()})})},ee=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.unidadmedida",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},ae=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.unidadmedida")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),T())}).finally(()=>{t(!1)})},N=async()=>{t(!0),await axios.get(`${route("catalogo.list.tiposmonedas")}`).then(e=>{const{data:a}=e;m(a)}).finally(()=>{t(!1)})},te=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.tipomoneda")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),N()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},re=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.tipomoneda",{id:e})}`),r.current.show({severity:"success",summary:"Unidad de Medida eliminado",detail:"El tipo de moneda ha sido eliminado exitosamente.",life:3e3}),t(!1),N()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el tipo de moneda.",life:3e3}),t(!1)}},se=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:c.jsx(S,{onConfirm:()=>{re(e),r.current.clear()},onCancel:()=>r.current.clear()})})},oe=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.tipomoneda",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},ie=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.tipomoneda")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),N())}).finally(()=>{t(!1)})},U=async()=>{t(!0),await axios.get(`${route("catalogo.list.status")}`).then(e=>{const{data:a}=e;m(a)}).finally(()=>{t(!1)})},ne=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.statu")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),U()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},le=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.statu",{id:e})}`),r.current.show({severity:"success",summary:"Unidad de Medida eliminado",detail:"El tipo de moneda ha sido eliminado exitosamente.",life:3e3}),t(!1),U()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el tipo de moneda.",life:3e3}),t(!1)}},ce=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:c.jsx(S,{onConfirm:()=>{le(e),r.current.clear()},onCancel:()=>r.current.clear()})})},ue=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.statu",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},de=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.statu")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),l(),U())}).finally(()=>{t(!1)})},me=()=>{h(!0),$(!1),E(!0),D("Guardar")},l=()=>{$(!0),E(!1)},fe=async e=>{try{await axios.delete(`${route("catalogo.delete.provedor",{id:e})}`),r.current.show({severity:"success",summary:"Proveedor eliminado",detail:"El proveedor ha sido eliminado exitosamente.",life:3e3}),C()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el proveedor.",life:3e3})}},ye=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:c.jsx(S,{onConfirm:()=>{fe(e),r.current.clear()},onCancel:()=>r.current.clear()})})},pe=async e=>{console.log("identy en eliminarDepertamento:",e);try{await axios.delete(`${route("catalogo.delete.departamento",{id:e})}`),r.current.show({severity:"success",summary:"departamento eliminado",detail:"El departamento ha sido eliminado exitosamente.",life:3e3}),P()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el departamento.",life:3e3})}},ve=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:c.jsx(S,{onConfirm:()=>{pe(e),r.current.clear()},onCancel:()=>r.current.clear()})})};return c.jsx(ge,{header:n,visible:p,style:{width:"65vw"},onHide:()=>{p&&y(!1)},children:c.jsxs(J,{children:[M==!1&&c.jsx($e,{opMostrar:u,data:j,eliminar:R,shoAgregar:me,updateRegistro:A}),u==="provedores"&&v==!1&&c.jsx(Ce,{showTabla:l,dataDetalle:d,actualizarProvedor:X,limpiarFormulario:g,setLimpiarFormulario:h,modoForm:x,nuevoProvedor:L}),u==="departamentos"&&v==!1&&c.jsx(Se,{showTabla:l,dataDetalle:d,actualizarDepartamento:G,limpiarFormulario:g,modoForm:x,nuevoDepartamento:V}),u==="clientes"&&v==!1&&c.jsx(je,{showTabla:l,dataDetalle:d,actualizarCliente:W,limpiarFormulario:g,setLimpiarFormulario:h,modoForm:x,nuevoCliente:K}),u==="unidadesMedidas"&&v==!1&&c.jsx(Me,{showTabla:l,dataDetalle:d,actualizarUnidadMedida:Q,limpiarFormulario:g,setLimpiarFormulario:h,modoForm:x,nuevoUnidadMedida:ae}),u==="tiposMonedas"&&v==!1&&c.jsx(Ne,{showTabla:l,dataDetalle:d,actualizarTipoMoneda:te,limpiarFormulario:g,setLimpiarFormulario:h,modoForm:x,nuevoTipoMoneda:ie}),u==="tiposStatus"&&v==!1&&c.jsx(Ue,{showTabla:l,dataDetalle:d,actualizarStatu:ne,limpiarFormulario:g,setLimpiarFormulario:h,modoForm:x,nuevoStatu:de}),u==="usuarios"&&v==!1&&c.jsx(ke,{showTabla:l,dataDetalle:d}),u==="datosEmpresa"&&v==!1&&c.jsx(De,{showTabla:l,dataDetalle:d}),F&&c.jsx("div",{className:"flex justify-content-center",children:c.jsx(Te,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"})}),c.jsx(Pe,{ref:r})]})})}export{wa as default};
//# sourceMappingURL=DialogoCat-c02de9fa.js.map
