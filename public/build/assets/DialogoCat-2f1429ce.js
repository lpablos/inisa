import{r as c,j as n}from"./app-dcb6f552.js";import{D as ye}from"./dialog.esm-84a5e061.js";import{C as pe}from"./card.esm-256fdd22.js";import we from"./TablasCatalogos-e6b38157.js";import he from"./FormularioProvedor-a8320353.js";import ve from"./FormularioDepartamento-d847ea1a.js";import ge from"./FormularioClientes-aa1b5729.js";import xe from"./FormularioUnidadMedida-9273f756.js";import $e from"./FormularioUsuario-d43721ab.js";import be from"./FormularioEmpresa-52902f34.js";import g from"./ConfirmarEliminacion-9c1c4acc.js";import{T as Ee}from"./toast.esm-b4d4ac55.js";import{P as Ce}from"./progressspinner.esm-67f32af2.js";import je from"./FormularioMoneda-2537a43f.js";import Se from"./FormularioStatus-4f69158e.js";import"./componentbase.esm-1becf919.js";import"./csstransition.esm-4d025c04.js";import"./index.esm-c88ad067.js";import"./iconbase.esm-565044fd.js";import"./tooltip.esm-3383bdb1.js";import"./ripple.esm-bef0a74b.js";import"./column.esm-212fd85e.js";import"./index.esm-caaa0bd1.js";import"./inputnumber.esm-b35cac15.js";import"./index.esm-a09854cd.js";import"./inputtext.esm-21a8a940.js";import"./index.esm-e233148e.js";import"./dropdown.esm-e750cd64.js";import"./index.esm-727a66c6.js";import"./virtualscroller.esm-572a5462.js";import"./index.esm-bc560454.js";import"./index.esm-26c769ed.js";import"./index.esm-d80e96df.js";import"./button.esm-46e694e9.js";import"./index.esm-4dd38ef7.js";import"./index.esm-ac617616.js";import"./floatlabel.esm-9aa8bf0c.js";import"./avatar.esm-61520b2c.js";function da({tpOperacion:l,setOperacion:k}){const[D,u]=c.useState(!1),[F,d]=c.useState(""),[T,p]=c.useState([]),[m,w]=c.useState({}),[h,y]=c.useState(!1),[v,z]=c.useState("Guardar"),[U,t]=c.useState(!1),[P,x]=c.useState(!1),[f,$]=c.useState(!0),r=c.useRef(null);c.useEffect(()=>{switch(t(!0),$(!0),x(!1),console.log("Este es",l),l){case"provedores":u(!0),b(),d("Catalogo de Provedores");break;case"departamentos":u(!0),E(),d("Catalogo de Departamentos");break;case"unidadesMedidas":d("Catalogo de Unidades de Medida"),C(),u(!0);break;case"tiposMonedas":d("Catalogo de Tipos de Monedas"),j(),u(!0);break;case"tiposStatus":d("Catalogo de Status"),S(),u(!0);break;case"usuarios":break;case"datosEmpresa":d("Datos de la Empresa"),obtenerEmpresa(),u(!0);break;default:d(""),u(!1),k(null);break}},[l]);const A=async e=>{switch(console.log("Este es el identy",e,l),l){case"provedores":await de(e);break;case"departamentos":await fe(e);break;case"clientes":await I(e);break;case"unidadesMedidas":await Y(e);break;case"tiposMonedas":await ae(e);break;case"tiposStatus":await ie(e);break;default:d(""),u(!1),k(null);break}},N=e=>{switch(l){case"provedores":R(e);break;case"departamentos":H(e);break;case"clientes":J(e);break;case"unidadesMedidas":Z(e);break;case"tiposMonedas":te(e);break;case"tiposStatus":ne(e);break}y(!1),$(!1),x(!0),z("Actualizar")},b=async()=>{t(!0),await axios.get(`${route("catalogo.list.provedores")}`).then(e=>{const{data:a}=e;p(a),t(!0)}).finally(()=>{t(!1)})},R=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.proveedor",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},L=async e=>{t(!0),await axios.post(`${route("catalogo.actualiza.provedor")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),b())}).finally(()=>{t(!1)})},G=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.provedor")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),b())}).finally(()=>{t(!1)})},E=async()=>{t(!0),await axios.get(`${route("catalogo.list.departamentos")}`).then(e=>{const{data:a}=e;p(a)}).finally(()=>{t(!1)})},H=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.departamento",{id:e})}`).then(a=>{console.log("datos departamento",a),w(a)}).finally(()=>{t(!1)})},V=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.departamento")}`,e),{status:o,data:s}=a;o===201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),E(),t(!1))}catch(a){console.error("Error actualizando el departamento:",a),t(!1),r.current.show({severity:"error",summary:"Error",detail:"Ocurrió un error al actualizar el departamento.",life:3e3})}},W=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.departamento")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),E())}).finally(()=>{t(!1)})},M=async()=>{t(!0),await axios.get(`${route("catalogo.list.clientes")}`).then(e=>{const{data:a}=e;p(a)}).finally(()=>{t(!1)})},q=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.cliente")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),M()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},B=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.cliente",{id:e})}`),r.current.show({severity:"success",summary:"cliente eliminado",detail:"El cliente ha sido eliminado exitosamente.",life:3e3}),t(!1),M()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el cliente.",life:3e3}),t(!1)}},I=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:n.jsx(g,{onConfirm:()=>{B(e),r.current.clear()},onCancel:()=>r.current.clear()})})},J=async e=>{console.log("identy en obtenerDetalleCliente:",e),await axios.get(`${route("catalogo.detalle.cliente",{id:e})}`).then(a=>{console.log("datos cliente",a),w(a)})},K=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.cliente")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),M())}).finally(()=>{t(!1)})},C=async()=>{t(!0),await axios.get(`${route("catalogo.list.unidadesmedidas")}`).then(e=>{const{data:a}=e;p(a)}).finally(()=>{t(!1)})},Q=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.unidadmedida")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),C()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},X=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.unidadmedida",{id:e})}`),r.current.show({severity:"success",summary:"Unidad de Medida eliminado",detail:"La Unidad de Medida ha sido eliminado exitosamente.",life:3e3}),t(!1),C()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el cliente.",life:3e3}),t(!1)}},Y=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:n.jsx(g,{onConfirm:()=>{X(e),r.current.clear()},onCancel:()=>r.current.clear()})})},Z=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.unidadmedida",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},_=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.unidadmedida")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),C())}).finally(()=>{t(!1)})},j=async()=>{t(!0),await axios.get(`${route("catalogo.list.tiposmonedas")}`).then(e=>{const{data:a}=e;p(a)}).finally(()=>{t(!1)})},O=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.tipomoneda")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),j()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},ee=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.tipomoneda",{id:e})}`),r.current.show({severity:"success",summary:"Unidad de Medida eliminado",detail:"El tipo de moneda ha sido eliminado exitosamente.",life:3e3}),t(!1),j()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el tipo de moneda.",life:3e3}),t(!1)}},ae=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:n.jsx(g,{onConfirm:()=>{ee(e),r.current.clear()},onCancel:()=>r.current.clear()})})},te=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.tipomoneda",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},re=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.tipomoneda")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),j())}).finally(()=>{t(!1)})},S=async()=>{t(!0),await axios.get(`${route("catalogo.list.status")}`).then(e=>{const{data:a}=e;p(a)}).finally(()=>{t(!1)})},se=async e=>{t(!0);try{const a=await axios.post(`${route("catalogo.actualiza.statu")}`,e),{status:o,data:s}=a;o===201?(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),S()):r.current.show({severity:"error",summary:"Error",detail:`${s.error||"Ocurrió un error inesperado"}`,life:3e3}),t(!1)}catch(a){if(a.response&&a.response.status===422){const o=a.response.data.errors,s=Object.values(o).flat().join(", ");r.current.show({severity:"warn",summary:"Errores de validación",detail:s,life:5e3})}else r.current.show({severity:"error",summary:"Error inesperado",detail:"Algo salió mal, por favor intente de nuevo.",life:3e3});t(!1)}},oe=async e=>{t(!0);try{await axios.delete(`${route("catalogo.delete.statu",{id:e})}`),r.current.show({severity:"success",summary:"Unidad de Medida eliminado",detail:"El tipo de moneda ha sido eliminado exitosamente.",life:3e3}),t(!1),S()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el tipo de moneda.",life:3e3}),t(!1)}},ie=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:n.jsx(g,{onConfirm:()=>{oe(e),r.current.clear()},onCancel:()=>r.current.clear()})})},ne=async e=>{t(!0),await axios.get(`${route("catalogo.detalle.statu",{id:e})}`).then(a=>{w(a)}).finally(()=>{t(!1)})},le=async e=>{t(!0),await axios.post(`${route("catalogo.nuevo.statu")}`,e).then(a=>{const{status:o,data:s}=a;o==201&&(r.current.show({severity:"success",summary:"Success",detail:`${s.success}`,life:3e3}),i(),S())}).finally(()=>{t(!1)})},ce=()=>{y(!0),$(!1),x(!0),z("Guardar")},i=()=>{$(!0),x(!1)},ue=async e=>{try{await axios.delete(`${route("catalogo.delete.provedor",{id:e})}`),r.current.show({severity:"success",summary:"Proveedor eliminado",detail:"El proveedor ha sido eliminado exitosamente.",life:3e3}),b()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el proveedor.",life:3e3})}},de=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:n.jsx(g,{onConfirm:()=>{ue(e),r.current.clear()},onCancel:()=>r.current.clear()})})},me=async e=>{console.log("identy en eliminarDepertamento:",e);try{await axios.delete(`${route("catalogo.delete.departamento",{id:e})}`),r.current.show({severity:"success",summary:"departamento eliminado",detail:"El departamento ha sido eliminado exitosamente.",life:3e3}),E()}catch{r.current.show({severity:"error",summary:"Error",detail:"No se pudo eliminar el departamento.",life:3e3})}},fe=e=>{r.current.show({severity:"warn",summary:"Confirmación",sticky:!0,content:n.jsx(g,{onConfirm:()=>{me(e),r.current.clear()},onCancel:()=>r.current.clear()})})};return n.jsx(ye,{header:F,visible:D,style:{width:"65vw"},onHide:()=>{D&&u(!1)},children:n.jsxs(pe,{children:[P==!1&&n.jsx(we,{opMostrar:l,data:T,eliminar:A,shoAgregar:ce,updateRegistro:N}),l==="provedores"&&f==!1&&n.jsx(he,{showTabla:i,dataDetalle:m,actualizarProvedor:L,limpiarFormulario:h,setLimpiarFormulario:y,modoForm:v,nuevoProvedor:G}),l==="departamentos"&&f==!1&&n.jsx(ve,{showTabla:i,dataDetalle:m,actualizarDepartamento:V,limpiarFormulario:h,modoForm:v,nuevoDepartamento:W}),l==="clientes"&&f==!1&&n.jsx(ge,{showTabla:i,dataDetalle:m,actualizarCliente:q,limpiarFormulario:h,setLimpiarFormulario:y,modoForm:v,nuevoCliente:K}),l==="unidadesMedidas"&&f==!1&&n.jsx(xe,{showTabla:i,dataDetalle:m,actualizarUnidadMedida:Q,limpiarFormulario:h,setLimpiarFormulario:y,modoForm:v,nuevoUnidadMedida:_}),l==="tiposMonedas"&&f==!1&&n.jsx(je,{showTabla:i,dataDetalle:m,actualizarTipoMoneda:O,limpiarFormulario:h,setLimpiarFormulario:y,modoForm:v,nuevoTipoMoneda:re}),l==="tiposStatus"&&f==!1&&n.jsx(Se,{showTabla:i,dataDetalle:m,actualizarStatu:se,limpiarFormulario:h,setLimpiarFormulario:y,modoForm:v,nuevoStatu:le}),l==="usuarios"&&f==!1&&n.jsx($e,{showTabla:i,dataDetalle:m}),l==="datosEmpresa"&&f==!1&&n.jsx(be,{showTabla:i,dataDetalle:m}),U&&n.jsx("div",{className:"flex justify-content-center",children:n.jsx(Ce,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"})}),n.jsx(Ee,{ref:r})]})})}export{da as default};
//# sourceMappingURL=DialogoCat-2f1429ce.js.map
